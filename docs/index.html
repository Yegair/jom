<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/jom/blog/rss.xml" title="jom Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/jom/blog/atom.xml" title="jom Blog Atom Feed"><title data-react-helmet="true">Overview | jom</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Overview | jom"><meta data-react-helmet="true" name="description" content="jom is a parser combinator library inspired by the great Rust library nom."><meta data-react-helmet="true" property="og:description" content="jom is a parser combinator library inspired by the great Rust library nom."><meta data-react-helmet="true" property="og:url" content="https://yegair.io/jom/jom/docs/"><link data-react-helmet="true" rel="shortcut icon" href="/jom/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://yegair.io/jom/jom/docs/"><link rel="stylesheet" href="/jom/styles.21f0090d.css">
<link rel="preload" href="/jom/styles.afa13cad.js" as="script">
<link rel="preload" href="/jom/runtime~main.aa321674.js" as="script">
<link rel="preload" href="/jom/main.d691c55e.js" as="script">
<link rel="preload" href="/jom/1.7bac3bf2.js" as="script">
<link rel="preload" href="/jom/2.76c740b4.js" as="script">
<link rel="preload" href="/jom/17.daf37224.js" as="script">
<link rel="preload" href="/jom/18.4f408766.js" as="script">
<link rel="preload" href="/jom/935f2afb.2522b3ca.js" as="script">
<link rel="preload" href="/jom/17896441.764ab88d.js" as="script">
<link rel="preload" href="/jom/18891827.fa9b550c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/jom/"><img src="/jom/img/logo.svg" alt="jom Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/jom/img/logo.svg" alt="jom Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">jom</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active navbar__link--active" href="/jom/docs/">Docs</a><a target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" href="/jom/api/jom/index.html">API</a><a class="navbar__item navbar__link" href="/jom/docs/examples/json">Examples</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Yegair/jom" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/jom/"><img src="/jom/img/logo.svg" alt="jom Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/jom/img/logo.svg" alt="jom Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">jom</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active navbar__link--active" href="/jom/docs/">Docs</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" class="menu__link" href="/jom/api/jom/index.html">API</a></li><li class="menu__list-item"><a class="menu__link" href="/jom/docs/examples/json">Examples</a></li><li class="menu__list-item"><a href="https://github.com/Yegair/jom" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/jom/docs/">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/jom/docs/getting-started/">Installation</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Overview</h1></header><div class="markdown"><p><em>jom</em> is a parser combinator library inspired by the great Rust library <a href="https://github.com/Geal/nom" target="_blank" rel="noopener noreferrer">nom</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="motivation"></a>Motivation<a class="hash-link" href="#motivation" title="Direct link to heading">#</a></h2><p>When I learn new programming languages I always need to do so in the scope of some little project,
so I can get a glimpse of what it would be like to use the language for building software at work.
A year ago I was trying out <a href="https://www.rust-lang.org/" target="_blank" rel="noopener noreferrer">Rust</a> and I decided to write a parser for a custom language,
that I had wanted to implement for a while but never got to it.</p><p>Coming from the Java/JVM world I started to look for parser generators like <a href="https://www.antlr.org/" target="_blank" rel="noopener noreferrer">antlr</a>,
because I liked the idea of just putting a grammar in and getting a fully working parser out.
After trying out several parser generators for Rust, including antlr but also others,
I was really disappointed by the developer experience.
I already admired Rust (and Cargo) for its exceptionally pleasing developer experience,
but those parser generator frameworks introduced a complexity that just felt wrong.
So I thought there must be a way of writing a parser without sacrificing the great developer experience,
that is provided by Rust, and I was right.
As soon as I started to no longer look explicitly for parser generators,
I immediately found <a href="https://github.com/Geal/nom" target="_blank" rel="noopener noreferrer">nom</a>,
a parser combinator framework for Rust.
This was a game changer.</p><p>nom provides you with a set of low level parsers, and some higher order combinators,
all of which are just simple Rust functions.
You can build almost any complex parser that you need by just combining the existing parsers.</p><p>When I came back from Rust to my good olâ€™ JVM (Java, Kotlin, â€¦),
I really missed such a simple yet powerful library for writing parsers.</p><p>For example, I write regular expressions for validating/recognizing some string input on a regular basis,
and I always have to write 10-20 lines of comment just to explain to my coworkers how the regex is intended to work.</p><blockquote><p>At least I think one should always extensively document regular expressions,
because communicating intent to other developers through regex implementations is not that easy.</p></blockquote><p>With a parser combinator like nom I could do the same thing,
but the code which does the parsing/recognition would be maintainable and comprehensible.</p><p>I had a look at two seemingly promising parser combinator libraries,
namely <a href="https://github.com/jparsec/jparsec" target="_blank" rel="noopener noreferrer">jparsec</a>
and <a href="https://github.com/typemeta/funcj/tree/master/parser" target="_blank" rel="noopener noreferrer">funcj.parser</a>,
but at least in my opinion they both have way to bloated and unintuitive APIs.</p><p>So I decided to just port nom to the JVM and call the result jom.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="when-to-use-jom"></a>When to use jom<a class="hash-link" href="#when-to-use-jom" title="Direct link to heading">#</a></h2><p><em>jom</em> was implemented in order to quickly prototype parsers for custom languages.
It is not (yet) recommended to use <em>jom</em> in production, because of its young age.
This recommendation will change in the future, when <em>jom</em> has matured.
However, for very small use cases such as replacing a regular expression with a <em>jom</em> parser,
it can be used without problems.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="what-does-a-jom-parser-look-like"></a>What does a jom parser look like?<a class="hash-link" href="#what-does-a-jom-parser-look-like" title="Direct link to heading">#</a></h2><p>As an example for a simple parser, lets suppose we have some <em>camelCase</em> formatted text,
for example <code>&quot;fooBarBaz&quot;</code>
We want to parse this text and extract the segments <code>[&quot;foo&quot;, &quot;Bar&quot;, &quot;Baz&quot;]</code> as a list.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-kotlin codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">import io.yegair.jom.Combinators.many0</span></div><div class="token-line" style="color:#393A34"><span class="token plain">import io.yegair.jom.Combinators.map</span></div><div class="token-line" style="color:#393A34"><span class="token plain">import io.yegair.jom.Combinators.pair</span></div><div class="token-line" style="color:#393A34"><span class="token plain">import io.yegair.jom.Input</span></div><div class="token-line" style="color:#393A34"><span class="token plain">import io.yegair.jom.Parsers.satisfy1</span></div><div class="token-line" style="color:#393A34"><span class="token plain">import io.yegair.jom.Utf8CodePoints.isLowerCase</span></div><div class="token-line" style="color:#393A34"><span class="token plain">import io.yegair.jom.Utf8CodePoints.isUpperCase</span></div><div class="token-line" style="color:#393A34"><span class="token plain">import kotlin.system.exitProcess</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">val camelCase =</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  // map applies a single parser and then maps its output</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  // by applying a custom function</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  map(</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // pair applies two parsers in sequence and returns</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // their result as a Kotlin Pair</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    pair(</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      // satisfy1 reads one or more UTF-8 code points that match</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      // a given predicate and returns a string containing all</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      // matched code points</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      satisfy1 { cp, _ -&gt; cp.isLowerCase() },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      // many0 applies a parser zero or more times until it no longer matches</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      // it then returns a list containing all results in order</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      many0(</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        // the second parameter given to satisfy1 is the index</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        // of the codepoint within the current parser invocation</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        satisfy1 { cp, index -&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">          when (index) {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            0 -&gt; cp.isUpperCase()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            else -&gt; cp.isLowerCase()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">          }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  ) { (first, rest) -&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // first is the result of the first satisfy1 parser</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // rest is the result of the many0 parser</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    listOf(first) + rest</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">fun main() {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  // Input can be created from various sources,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  // for example Input.of(System.`in`) or Input.of(byteArrayOf(...))</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  val input = Input.of(&quot;fooBarBaz&quot;)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  val result = camelCaseParser.parse(input)</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  when {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // result.ok indicates whether the parser was able to recognize the given input.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // If result.ok is true, result.output holds the produced value.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Given the input &quot;fooBarBaz&quot;, this will print [&quot;foo&quot;, &quot;Bar&quot;, &quot;Baz&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    result.ok -&gt; print(result.output)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    else -&gt; exitProcess(1)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The <code>camelCase</code> parser already uses all features that <em>jom</em> provides.
From here on the only thing that is to be explored are the numerous existing parsers and combinators,
that are contained in the <em>jom</em> library.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/Yegair/jom/edit/main/pages/docs/overview.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/jom/docs/getting-started/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Installation Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#motivation" class="table-of-contents__link">Motivation</a></li><li><a href="#when-to-use-jom" class="table-of-contents__link">When to use jom</a></li><li><a href="#what-does-a-jom-parser-look-like" class="table-of-contents__link">What does a jom parser look like?</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/jom/docs/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/jom/docs/api/Input">API</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/jom" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/Yegair/jom" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Hauke JÃ¤ger. Built with Docusaurus.</div></div></div></footer></div>
<script src="/jom/styles.afa13cad.js"></script>
<script src="/jom/runtime~main.aa321674.js"></script>
<script src="/jom/main.d691c55e.js"></script>
<script src="/jom/1.7bac3bf2.js"></script>
<script src="/jom/2.76c740b4.js"></script>
<script src="/jom/17.daf37224.js"></script>
<script src="/jom/18.4f408766.js"></script>
<script src="/jom/935f2afb.2522b3ca.js"></script>
<script src="/jom/17896441.764ab88d.js"></script>
<script src="/jom/18891827.fa9b550c.js"></script>
</body>
</html>